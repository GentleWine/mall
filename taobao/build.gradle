/*
 * This file was generated by the Gradle 'init' task.
 */

buildscript {
    ext.springBootVersion = "${springBootVersion}"
    ext.managementVersion = "${managementVersion}"
    repositories {
        mavenLocal()
        mavenCentral()
        google()
        maven {
            url = uri('https://repo.maven.apache.org/maven2')
        }
    }
    dependencies {
        classpath "org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}"
        classpath "io.spring.gradle:dependency-management-plugin:${managementVersion}"
    }
}

plugins {
    id 'java'
    id 'maven-publish'
    id 'org.springframework.boot' version "${springBootVersion}"
    id 'io.spring.dependency-management' version "${managementVersion}"
}

repositories {
    mavenLocal()
    mavenCentral()
    google()
    maven {
        url = uri('https://repo.maven.apache.org/maven2')
    }
}

dependencies {
    compile 'org.slf4j:slf4j-simple:2.0.0-alpha1'
    compile 'org.slf4j:slf4j-api:2.0.0-alpha1'
    compile 'org.springframework.boot:spring-boot-starter-data-jpa:2.4.4'
    compile 'org.springframework.boot:spring-boot-starter-thymeleaf:2.4.4'
    compile 'org.springframework.boot:spring-boot-starter-web:2.4.4'
    compile 'org.hibernate.orm:hibernate-core:6.0.0.Alpha7'
    compile 'mysql:mysql-connector-java:8.0.23'
    compile 'com.alibaba:fastjson:1.2.28'
    compile 'com.google.code.gson:gson:2.8.6'
    compile 'com.google.code.findbugs:annotations:3.0.1'

    compileOnly 'org.projectlombok:lombok:1.18.18'
    annotationProcessor 'org.projectlombok:lombok:1.18.18'
    testCompile 'org.springframework.boot:spring-boot-starter-test:2.4.4'

    // JAXB dependencies
    compile 'jakarta.xml.bind:jakarta.xml.bind-api:2.3.3'
    compile 'org.glassfish.jaxb:jaxb-runtime:2.3.3'

    annotationProcessor 'jakarta.xml.bind:jakarta.xml.bind-api:2.3.3'
    annotationProcessor 'org.glassfish.jaxb:jaxb-runtime:2.3.3'
    annotationProcessor 'javax.annotation:javax.annotation-api:1.3.2'
}

group = 'com.mng'
version = "${projectVersion}"
description = 'taobao'
sourceCompatibility = JavaVersion.VERSION_15
targetCompatibility = JavaVersion.VERSION_15

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

test {
    useJUnitPlatform()
}

jar {
    manifest{
        attributes ('Main-Class': 'com.mng.TaobaoApplication')
    }

    from{
        configurations.runtimeClasspath.collect {it.isDirectory() ? it : zipTree(it)}
    }
    archiveBaseName = "${projectName}"
    archiveVersion = "${projectVersion}"
}

